---
title: 'Mapping Mangrove Growth and Deforestation with Satellite Imagery'
date: 2021-03-21
permalink: /posts/2021/03/blog-mapping-mangroves/
tags:
  - data science
  - neural network
  - satellite imagery
---

![](/images/mangrove_project_blog/Mangroves1.png)


*Note: This blog is a work in progress.*

For my final [Metis](https://www.thisismetis.com/) data science boot camp project, I knew I wanted to get some experience using neural networks on image data. After going back and forth on all sorts of ideas (who doesn't when they are trying to come up with an interesting, but do-able, project?), I ultimately landed on classifying mangrove forests using satellite imagery.

<!-- I decided to create a mangrove forest classifier from a neural network trained on satellite imagery.  -->


## Mangrove Forests

Mangroves are salt-tolerant, tropical trees which live and thrive along warm coastal waters. There is around 135,000 square kilometers of mangrove forested areas around the world. These mangrove forests store 4-10 times more carbon than ordinary land forests, protect shorelines against storms, filter pollutants from the ocean waters, and provide natural habitats for many species. These mangrove domains are under threat from both climate change and man-made sources. Per the [Global Mangrove Alliance](http://www.mangrovealliance.org/mangrove-knowledge/), these mangrove forests are being degraded at about 1% per year globably. In some cases, like the south of Florida or Myanmar the degradation is even worse. Monitoring, tracking, and protecting these mangroves is a vital task for protecting our environment on both a global and a local scale.


![](/images/mangrove_project_blog/Manatee.jpeg)



## Satellite Monitoring

Satellite imagery can be used for remote monitoring of mangroves worldwide. This approach has been used more and more in recent years, with a lot of advanced efforts going on. [This article](https://medium.com/google-earth/mangrove-monitoring-in-google-earth-engine-4d6f6be8d7fc) on Medium summarizes a number of different use cases around the world and the ongoing work for them.


![](/images/mangrove_project_blog/Satellite.png)


Google Earth Engine (GEE) is a powerful tool which allows free access to a wealth of satellite imagery going back years. Given the time constraints (about 3 weeks) and having no prior knowledge of the subject or satellite data, this was a perfect resource for my project. GEE has a straightforward API for accessing said satellite imagery and outputting information and images of interest. Specifically, I was able to locate a map of mangrove forests mapped around the world by [C. Giri et al.](https://onlinelibrary.wiley.com/doi/abs/10.1111/j.1466-8238.2010.00584.x) for the year 2000. Using satellite images from the year 2000 which corresponded to the mapped out mangroves, I could train a classifier to recognize those mangroves. I could then acquire satellite images from more recent years such as 2020, and do a comparison of the before and after to see the level of deforestation and growth. 


![](/images/mangrove_project_blog/MangroveMap.png)



## The Data

I started my project by learning how to use the GEE API along with a little bit of JavaScript along the way. The process is relatively simple: you load collections of satellite images, filter those images by time or location, composite several images together in order to create a single image, and lastly export that image to somewhere like Google Drive. (You can find [here](https://geohackweek.github.io/GoogleEarthEngine/) a very nice website which provides tutorials on how to get started. I found the section "Accessing Satellite Imagery" particularly useful.)


From my research I knew that the labeled mangrove map was built on Landsat 5 satellite data. Because I wanted to compare 2020 satellite imagery results to classified results from the year 2000, I knew I needed current satellite imagery. Landsat 5 was decommissioned in 2013, so I was left with either choosing Landsat 7 or Landsat 8 data. I chose Landsat 7 data, because it was active in the year 2000 and was still active in 2020. This gave me the ability to train a model using the same satellite system data as the data I would then later predict on. 


<!-- (I thought about using Landsat 8, and indeed that might prove better for the 2020 data as I never tested it, however the data specifications are different and I was therefore worried that my predictive model would not properly transfer.)  -->


Landsat 7 data has a resolution of 30 meters per pixel, and contains information in 8 different bands. These are the standard RGB bands, a near infrared bed, 2 shortwave infrared bands, a thermal band, and a panchromatic band. (I decided to drop this last band since the resolution was 15 meters, different to the 30 meter resolution of the other bands, and would complicate my analysis without adding much gain.) **To be clear about my project now, I was now going to do a pixel-wise classification of satellite imagery as mangrove forest or not, using these 7 bands as my features.**


## Satellite Image Compositing



For the satellite imagery that I generated, each individual satellite image by itself would not work for classification. Certain areas are only captured once every 16 days (check this), and in the image there is liable to be clouds which obscure the regions of interest. GEE has some nice functionality to composite a single image from many other images based on various features. I therefore masked out all the pixels which contained clouds or cloud shadows to get pure land and water images. One last issue remained, that of pixel selection versus time. Mangrove forests may not be as abundant in the winter months as the summer months for instance, and I want my images to properly represent the totality of mangrove forests. Therefore I selected each pixel in the composite image as that pixel from the image collection which had the maximum "normalized difference vegetation index" or NDVI. The NDVI is essentially the difference between the near infrared band and the red band, and it is the standard measure for whether a pixel contains living green vegetation. By compositing my image with pixels selected by their maximum NDVI values, I can account for different seasons and the like throughout the year.


- put a picture here of the NDVI band
- maybe also a gif flashing between the NDVI band and the mangrove band to show the comparison, or maybe RGB, then NDVI, then mangrove band


![](/images/mangrove_project_blog/Florida_1_CNN_input.gif)






Lastly, I decided to focus on one area of interest, that being the Florida coastline. There are over 60 mangrove species around the world with different physical characteristics. In my exploratory data analysis phase of the project I did test out other locations such as places in Brazil, Cuba, and Cameroon. In some instances the trained model performed well in other locations, while in some instances it did not. Hence I decided to restrict my project to a single area where the satellite image colors were consistent.








## Models


[article1](https://towardsdatascience.com/neural-network-for-satellite-data-classification-using-tensorflow-in-python-a13bcf38f3e1) and [article2](https://towardsdatascience.com/is-cnn-equally-shiny-on-mid-resolution-satellite-data-9e24e68f0c08) on getting startied with neural networks on satellite imagery by P. Tripathy



- the dropout layers nicely prevent overfitting
- no pooling layer because I'm not trying to pick out a specific object from the image (though they might still be useful, I'm not knowledgeable enough yet to know that or not)

- chose to optimize on sparse categorical cross entropy and F1


## Results


-show 


## Conclusions and Future Work



- maybe put an image of some more mangroves








some papers of work people are doing:

papers or articles describing mangrove forest monitoring/mapping/etc. by groups/people who really know what they are doing:



[medium 2020 article](https://medium.com/uk-hydrographic-office/scaling-machine-learning-models-across-the-globe-the-quest-for-geo-generalisability-in-mangrove-f14282738378) by the UKHO (Hydrographic Office) doing machine learning across the globe with generalized models


[2019 article](https://www.intechopen.com/books/geographic-information-systems-and-science/gis-and-remote-sensing-for-mangroves-mapping-and-monitoring) by blank mapping mangroves in Malaysia


[Global Mangrove Alliance](http://www.mangrovealliance.org/mangrove-knowledge/) website with details and their 
[Global Mangrove Watch](https://www.globalmangrovewatch.org/?map=eyJiYXNlbWFwIjoibGlnaHQiLCJ2aWV3cG9ydCI6eyJsYXRpdHVkZSI6MjAsImxvbmdpdHVkZSI6MCwiem9vbSI6Mn19) web portal for tracking mangroves around the world


[GEEMMM](https://github.com/Blue-Ventures-Conservation/GEEMMM) github project (Google Earth Engine Mangrove Mapping Methodology) for mapping mangroves funded by Blue Ventures Conservation with funding from UK Governmentâ€™s International Climate Fund


these are only some, there are others...



